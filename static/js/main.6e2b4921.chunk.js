(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var a,r=n(4),c=n(0),i=n.n(c),s=n(7),d=n.n(s),l=n(12),o=(n(39),n(43)),j=n(44),u=n(25),b=n(9),h=n(15),O=n(46),m=n(47);!function(e){e.ADD_HABIT="ADD_HABIT",e.UPDATE_HABIT="UPDATE_HABIT",e.DELETE_HABIT="DELETE_HABIT"}(a||(a={}));var p=n(10),x=n(28),f=function(e){return e.length?Math.max.apply(null,e.map((function(e){return e.id})))+1:1},v={habits:[]};var D=Object(p.b)({habits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_HABIT:var n=f(e.habits),r=Object(b.a)({id:n,events:[]},t.payload);return{habits:[].concat(Object(x.a)(e.habits),[r])};case a.UPDATE_HABIT:return{habits:e.habits.map((function(e){return e.id===t.payload.id?t.payload:e}))};case a.DELETE_HABIT:return{habits:e.habits.filter((function(e){return e.id!==t.payload.id}))};default:return e}}}),A=Object(p.c)(D),g=function(){var e=Object(c.useState)({name:"",detail:""}),t=Object(h.a)(e,2),n=t[0],i=t[1];return Object(r.jsxs)(O.a,{inline:!0,children:[Object(r.jsx)(O.a.Control,{className:"mb-2 mr-sm-2",placeholder:"Habit name...",type:"text",value:n.name,onChange:function(e){return i(Object(b.a)(Object(b.a)({},n),{},{name:e.target.value}))}}),Object(r.jsx)(O.a.Control,{className:"mb-2 mr-sm-2",placeholder:"Details...",type:"text",value:n.detail,onChange:function(e){return i(Object(b.a)(Object(b.a)({},n),{},{detail:e.target.value}))}}),Object(r.jsx)(m.a,{type:"submit",className:"mb-2 mr-sm-2",onClick:function(e){var t;(e.preventDefault(),n.name)&&(A.dispatch((t=n,{type:a.ADD_HABIT,payload:t})),i({name:"",detail:""}))},children:"Add Habit"})]})},y=n(27),T=n(45),H=function(e){var t=e.handleClose,n=e.habit;return n?Object(r.jsxs)(T.a,{show:null!==n,animation:!1,onHide:t,children:[Object(r.jsx)(T.a.Header,{closeButton:!0,children:Object(r.jsx)(T.a.Title,{children:n.name})}),Object(r.jsxs)(T.a.Body,{children:[n.detail?Object(r.jsx)("p",{children:n.detail}):"",Object(r.jsxs)("p",{children:["Habit occurred ",n.events.length," times."]})]}),Object(r.jsxs)(T.a.Footer,{children:[Object(r.jsx)(m.a,{onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&(A.dispatch(function(e){return{type:a.DELETE_HABIT,payload:e}}(n)),t())},children:"Delete"}),Object(r.jsx)(m.a,{variant:"secondary",onClick:t,children:"Close"})]})]}):Object(r.jsx)("div",{})},E=function(e){var t=e.ticked,n=e.toggleHabit;return Object(r.jsx)("td",{onClick:n,children:t?1:0})};function k(e,t){return t.map((function(t){return{date:t,ticked:-1!==e.events.map((function(e){return e.date.toDateString()})).indexOf(t.toDateString())}}))}var B=function(e){var t=e.habit,n=e.dates,c=e.handleShow,i=Object(l.b)();return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{onClick:function(){return c(t)},children:t.name},t.name),k(t,n).map((function(e){var n=e.ticked,c=e.date;return Object(r.jsx)(E,{ticked:n,date:c,toggleHabit:function(){return i(function(e,t){var n=-1!==e.events.map((function(e){return e.date.toDateString()})).indexOf(t.toDateString()),r=e;return n?r.events=r.events.filter((function(e){return e.date.getDate()!==t.getDate()})):r.events.push({date:t}),{type:a.UPDATE_HABIT,payload:r}}(t,c))}},c.getDate())}))]})},I=function(e){return e.habits.habits};var C=function(e){var t=e.dates,n=Object(l.c)(I),a=Object(c.useState)(null),i=Object(h.a)(a,2),s=i[0],d=i[1],o=function(e){return d(e)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(y.a,{responsive:!0,striped:!0,bordered:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Habit"},"title"),t.map((function(e){return Object(r.jsx)("th",{children:e.toLocaleDateString()},e.getDate())}))]})}),Object(r.jsx)("tbody",{children:n.map((function(e){return Object(r.jsx)(B,{habit:e,dates:t,handleShow:o},e.id)}))})]}),Object(r.jsx)(H,{handleClose:function(){return d(null)},habit:s})]})};var _=function(){var e,t=(e=7,Array.from(Array(e).keys()).map((function(e){var t=new Date;return t.setDate(t.getDate()-e),t})));return Object(r.jsxs)("div",{className:"App p-4",children:[Object(r.jsx)("h1",{className:"text-center",children:"Habit Tracker"}),Object(r.jsxs)(o.a,{fluid:"md",children:[Object(r.jsx)(j.a,{className:"p-2",children:Object(r.jsx)(u.a,{children:Object(r.jsx)(g,{})})}),Object(r.jsx)(j.a,{className:"p-2",children:Object(r.jsx)(u.a,{children:Object(r.jsx)(C,{dates:t})})})]})]})};d.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(l.a,{store:A,children:Object(r.jsx)(_,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.6e2b4921.chunk.js.map